<!DOCTYPE HTML>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Сортировка таблицы</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 20px;
            cursor: pointer;
        }
        .red {
            background-color: #ff0000;
        }
    </style>
</head>
<body>

<table id="table">
    <tr>
        <td id="A1">A1</td><td id="A2">A2</td><td id="A3">A3</td><td id="A4">A4</td><td id="A5">A5</td><td id="A6">A6</td><td id="A7">A7</td><td id="A8">A8</td>
    </tr>
    <tr>
        <td id="B1">B1</td><td id="B2">B2</td><td id="B3">B3</td><td id="B4">B4</td><td id="B5">B5</td><td id="B6">B6</td><td id="B7">B7</td><td id="B8">B8</td>
    </tr>
    <tr>
        <td id="C1">C1</td><td id="C2">C2</td><td id="C3">C3</td><td id="C4">C4</td><td id="C5">C5</td><td id="C6">C6</td><td id="C7">C7</td><td id="C8">C8</td>
    </tr>
    <tr>
        <td id="D1">D1</td><td id="D2">D2</td><td id="D3">D3</td><td id="D4">D4</td><td id="D5">D5</td><td id="D6">D6</td><td id="D7">D7</td><td id="D8">D8</td>
    </tr>
    <tr>
        <td id="E1">E1</td><td id="E2">E2</td><td id="E3">E3</td><td id="E4">E4</td><td id="E5">E5</td><td id="E6">E6</td><td id="E7">E7</td><td id="E8">E8</td>
    </tr>
    <tr>
        <td id="F1">F1</td><td id="F2">F2</td><td id="F3">F3</td><td id="F4">F4</td><td id="F5">F5</td><td id="F6">F6</td><td id="F7">F7</td><td id="F8">F8</td>
    </tr>
    <tr>
        <td id="G1">G1</td><td id="G2">G2</td><td id="G3">G3</td><td id="G4">G4</td><td id="G5">G5</td><td id="G6">G6</td><td id="G7">G7</td><td id="G8">G8</td>
    </tr>
    <tr>
        <td id="H1">H1</td><td id="H2">H2</td><td id="H3">H3</td><td id="H4">H4</td><td id="H5">H5</td><td id="H6">H6</td><td id="H7">H7</td><td id="H8">H8</td>
    </tr>
</table>

<script>
    $(document).ready(function () {
        load_table();

        $(document).on('click', '#table td', function() {
            let cell_id = $(this).attr('id');
            // let cell_id = 'A9';

            $.ajax({
                url: 'https://test/21.php',
                type: 'POST',
                data: { cell_id: cell_id },
                success: function(response) {
                    load_table();
                },
            });
        });
    });

    function load_table() {
        $.get("https://test/load_21.php", function(response) {
            $("#table").replaceWith(response);
            // response.forEach(element => {
            //     $("#table").append()
            // }
        })
    }
</script>

</body>
</html>
